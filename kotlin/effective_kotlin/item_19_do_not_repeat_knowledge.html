<!DOCTYPE html>
<html lang="ja">

<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>πの実</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="忙しい人のための Effective Kotlin 超要約 Item 19: Do not repeat knowledge" />
  <meta name="keywords" content="Kotlin, Effective Kotlin, 忙しい人のための" />
  <link rel="stylesheet" href="/css/style.css" />
  <link rel="stylesheet" href="/js/highlight/styles/darcula.css" />
  <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script
    ><![endif]-->
</head>

<script type="text/javascript" src="/js/embed-date.js"></script>
<script src="/js/highlight/highlight.pack.js"></script>
<script src="/js/embed-content-list.js"></script>
<script type="text/javascript">
  window.addEventListener(
    "load",
    function () {
      embedDate("kotlin", "effective_kotlin", "item_19_do_not_repeat_knowledge");
      embedContentList();
    },
    false
  );
  hljs.initHighlightingOnLoad();
</script>

<body>
  <div id="menubar">
    <ul>
      <li><a href="/index.html">Home</a></li>
      <li>
        <a>Contents <span class="caret"></span></a>
        <div>
          <ul id="contents"></ul>
        </div>
      </li>
    </ul>
  </div>
  <div id="container">
    <header>
      <div id="logo" style="text-align: center">
        <a href="/index.html">
          <img src="/images/logo.png" style="width: 150px; height: 46px" /></a>
      </div>
    </header>

    <div id="date" style="text-align: right"></div>

    この節の内容は、言語にとらわれず意識しておくべき基礎的な原則です。

    <h1>まとめ</h1>
    <ul>
      <li>
        コーディングしている中で、<b>コピペが必要になったときはちょっと立ち止まろう</b>。同じことを二度書く必要はきっとないはず。
      </li>
    </ul>

    <h2>ちょっと詳しく</h2>
    <p>
      コーディングの原則としてよく知られている(しかし実践は実は難しい)"DRY (= Don't Repeat Yourself) 原則"というものがあります。
      平たく言えば、"同じ情報は2度書くのは良くないよ"という原則です。まとめにある通り、1つのプロジェクトの中でコピペをするということは、
      どこかと同じ変数なりアルゴリズムなりを2度以上書いているということになります。
      これは少なくとも下記の理由で避けるべきです。
    </p>

    <ul>
      <li>単純に無駄だから。共通で使えるようにすればコーディングする時間もファイルサイズも2つ分は必要ないはずですよね。</li>
      <li>1つを変更しなくてはいけない時に死ぬほど面倒くさい。なぜならコピペしたものを全部<b>もれなく</b>変更しなくてはいけないから。</li>
    </ul>

    <p>
      DRY原則に反したコーディングを、WET(= We Enjoy Typing, Waste Everyone's Time, or Write Everything Twice) アンチパターンと呼んだりします。
      DRYに対してWET、いい感じで対になってますね。
    </p>

    <h2>Knowledge -情報/知識-</h2>
    <p>
      この節で言う"Knowledge"としては主に下記の2つに焦点を当てています。
    </p>

    <ul>
      <li>ロジック: コードの振る舞いを記述するもの</li>
      <li>共通アルゴリズム: ロジックを実現するための下回り計算</li>
    </ul>

    <p>
      上記2つの違いはぱっと見わかりづらいものですが、ロジックはアプリケーションの要求に応じていつでも変わりうるもので、
      それに対してアルゴリズムは、ロジックが変更されても基本的には変更されることのない仕組みの部分をさしています。
    </p>

    <h2>Everything can change -すべてのものは変わりうる-</h2>
    <p>
      ということで、世の中のありとあらゆるものは変化し続けます。ソフトウェアについては特に変化が顕著で、長年一切の変化がないものはほとんど見つけることはできないでしょう。
    </p>

    <p>
      従って、自分が書いているコードは<b>いつか必ず変更されるという前提</b>に立っているべきなのです。
      そして、いざ<b>既存のコードを変更しようとしたとき、最も大きな障害となるのがロジックやデータの繰り返し</b>です。
      同じ意図で書かれた同じロジックやデータは、変更しようとしたときにもれなく更新する必要があります。
    </p>

    <ul>
      <li>単純に時間と労力の無駄</li>
      <li>どんなに気を付けていても変更漏れのリスクを避けられない</li>
    </ul>

    <p>
      という観点で、繰り返しは避けるべきといえます。コーディングの領域では、インターフェースなどの抽象化によってある程度変更しやすい(無駄な繰り返しを避けた)実装を行うことができます。
    </p>
</body>

</html>